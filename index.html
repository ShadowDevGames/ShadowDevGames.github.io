<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>ShadowDev Games</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    background: #111;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
}
button, select {
    font-size: 20px;
    padding: 15px;
    margin: 10px;
    cursor: pointer;
}
#gameContainer, #gameOver, #instructions {
    margin-top: 20px;
}
#gameOver {
    display: none;
    font-size: 30px;
    color: red;
}
canvas {
    background: black;
    display: block;
    margin: 20px auto;
    max-width: 90%;
    height: auto;
}
.gameOption {
    display: inline-block;
    margin: 20px;
    text-align: center;
}
#touchControls {
    margin-top: 10px;
}
.touchBtn {
    font-size: 25px;
    padding: 15px;
    margin: 5px;
}
</style>
</head>
<body>

<h1>ðŸŽ® ShadowDev Games</h1>

<!-- Taalkeuze -->
<select id="language" onchange="updateLanguage()">
    <option value="nl" selected>Nederlands</option>
    <option value="en">English</option>
</select>

<!-- Startscherm -->
<div id="startScreen">
    <p id="chooseGame">Kies een game:</p>

    <!-- Klik Game -->
    <div class="gameOption">
        <img src="logos/klik-logo.png" alt="Klik Game Logo" width="80" height="80">
        <button id="clickBtnStart" onclick="startGame('click')">Klik Game</button>
    </div>

    <!-- Snake Game -->
    <div class="gameOption">
        <img src="logos/snake-logo.png" alt="Snake Game Logo" width="80" height="80">
        <button id="snakeBtnStart" onclick="startGame('snake')">Snake Game</button>
    </div>

    <div id="instructions">
        <div class="key-explain" id="escExplain"><strong>ESC:</strong> Stop de game / Game Over</div>
        <div class="key-explain" id="arrowExplain"><strong>Pijltjestoetsen:</strong> Snake bewegen</div>
    </div>
</div>

<div id="gameContainer"></div>
<div id="score"></div>
<div id="gameOver"></div>

<script>
let gameRunning = false;
let score = 0;
let currentGame = null;
let language = "nl";

// Teksten per taal
const texts = {
    nl: {
        chooseGame: "Kies een game:",
        clickGame: "Klik Game",
        snakeGame: "Snake Game",
        esc: "ESC: Stop de game / Game Over",
        arrows: "Pijltjestoetsen: Snake bewegen",
        gameOver: "Game Over! Score: "
    },
    en: {
        chooseGame: "Choose a game:",
        clickGame: "Click Game",
        snakeGame: "Snake Game",
        esc: "ESC: Stop game / Game Over",
        arrows: "Arrow keys: Move Snake",
        gameOver: "Game Over! Score: "
    }
};

// Update taal
function updateLanguage(){
    language = document.getElementById("language").value;
    document.getElementById("chooseGame").innerText = texts[language].chooseGame;
    document.getElementById("clickBtnStart").innerText = texts[language].clickGame;
    document.getElementById("snakeBtnStart").innerText = texts[language].snakeGame;
    document.getElementById("escExplain").innerHTML = "<strong>ESC:</strong> " + texts[language].esc;
    document.getElementById("arrowExplain").innerHTML = "<strong>Pijltjestoetsen:</strong> " + texts[language].arrows;
    if(!gameRunning && document.getElementById("gameOver").style.display==="block"){
        document.getElementById("gameOver").innerText = texts[language].gameOver + score;
    }
}

// Start game
function startGame(game){
    gameRunning = true;
    score = 0;
    currentGame = game;
    document.getElementById("startScreen").style.display="none";
    document.getElementById("gameOver").style.display="none";
    document.getElementById("score").innerText="Score: 0";
    document.getElementById("gameContainer").innerHTML="";

    if(game==='click') startClickGame();
    if(game==='snake') startSnakeGame();
}

// -------- Klik Game --------
function startClickGame(){
    let btn = document.createElement("button");
    btn.id="clickBtn";
    btn.innerText = texts[language].clickGame;
    btn.style.fontSize="30px";
    btn.onclick = function(){
        if(gameRunning){
            score++;
            document.getElementById("score").innerText = "Score: "+score;
        }
    };
    document.getElementById("gameContainer").appendChild(btn);
}

// -------- Snake Game --------
function startSnakeGame(){
    const canvas = document.createElement("canvas");
    canvas.id="snakeCanvas";
    // Responsive canvas
    canvas.width = Math.min(window.innerWidth*0.9,400);
    canvas.height = canvas.width;
    document.getElementById("gameContainer").appendChild(canvas);
    const ctx = canvas.getContext("2d");

    const box = canvas.width / 20;
    let snake=[{x:8*box, y:8*box}];
    let food={x:Math.floor(Math.random()*20)*box, y:Math.floor(Math.random()*20)*box};
    let dir="RIGHT";

    // Key controls
document.addEventListener("keydown", function(e){
    if(!gameRunning) return;

    // Pijltjestoetsen
    if(e.key==="ArrowUp" && dir!=="DOWN") dir="UP";
    if(e.key==="ArrowDown" && dir!=="UP") dir="DOWN";
    if(e.key==="ArrowLeft" && dir!=="RIGHT") dir="LEFT";
    if(e.key==="ArrowRight" && dir!=="LEFT") dir="RIGHT";

    // WASD toetsen
    if((e.key==="w" || e.key==="W") && dir!=="DOWN") dir="UP";
    if((e.key==="s" || e.key==="S") && dir!=="UP") dir="DOWN";
    if((e.key==="a" || e.key==="A") && dir!=="RIGHT") dir="LEFT";
    if((e.key==="d" || e.key==="D") && dir!=="LEFT") dir="RIGHT";

    if(e.key==="Escape") stopGame();
});

    // Touch controls
    const touchDiv = document.createElement("div");
    touchDiv.id="touchControls";
    const directions=["UP","DOWN","LEFT","RIGHT"];
    const arrowSymbols=["â¬†ï¸","â¬‡ï¸","â¬…ï¸","âž¡ï¸"];
    directions.forEach((d,i)=>{
        let btn=document.createElement("button");
        btn.className="touchBtn";
        btn.innerText=arrowSymbols[i];
        btn.onclick = ()=>{ if(dir!==opposite(d)) dir=d; };
        touchDiv.appendChild(btn);
    });
    document.getElementById("gameContainer").appendChild(touchDiv);

    function opposite(d){ return {UP:"DOWN", DOWN:"UP", LEFT:"RIGHT", RIGHT:"LEFT"}[d]; }

    function draw(){
        if(!gameRunning) return;
        ctx.fillStyle="black";
        ctx.fillRect(0,0,canvas.width,canvas.height);

        // Snake
        for(let i=0;i<snake.length;i++){
            ctx.fillStyle="green";
            ctx.fillRect(snake[i].x, snake[i].y, box, box);
            // Tong
            if(i===snake.length-1 && Math.random()<0.5){
                ctx.fillStyle="red";
                ctx.fillRect(snake[i].x+box-5, snake[i].y+5,5,5);
            }
        }

        // Food
        ctx.fillStyle="red";
        ctx.fillRect(food.x, food.y, box, box);

        let headX=snake[snake.length-1].x;
        let headY=snake[snake.length-1].y;
        if(dir==="LEFT") headX-=box;
        if(dir==="RIGHT") headX+=box;
        if(dir==="UP") headY-=box;
        if(dir==="DOWN") headY+=box;

        // Eat
        if(headX===food.x && headY===food.y){
            score++;
            document.getElementById("score").innerText="Score: "+score;
            food={x:Math.floor(Math.random()*20)*box, y:Math.floor(Math.random()*20)*box};
        } else snake.shift();

        let newHead={x:headX, y:headY};

        // Collision
        if(headX<0 || headX>=canvas.width || headY<0 || headY>=canvas.height || snake.some(s=>s.x===newHead.x && s.y===newHead.y)){
            stopGame();
        }

        snake.push(newHead);
        if(gameRunning) setTimeout(draw,100);
    }
    draw();
}

// -------- Stop Game --------
function stopGame(){
    gameRunning=false;
    document.getElementById("gameContainer").innerHTML="";
    document.getElementById("score").innerText="";
    document.getElementById("gameOver").style.display="block";
    document.getElementById("gameOver").innerText=texts[language].gameOver+score;
    document.getElementById("startScreen").style.display="block";
}

// ESC global
document.addEventListener('keydown', e=>{ if(e.key==="Escape" && gameRunning) stopGame(); });

</script>
</body>
</html>
